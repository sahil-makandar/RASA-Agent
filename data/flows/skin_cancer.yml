flows:

#   skin_cancer_check:
#     description: Help users assess risk factors for skin cancer.
#     steps:
#       - flow: image_analysis
#         context:
#           image_type: "skin"
#           provider_type: "dermatologist"

  skin_cancer_info:
    description: Provide information about skin cancer prevention, detection, and treatment.
    steps:
      - set_slots:
        - health_topic: "skin cancer"
        - appointment_topic: "dermatology"
      
      # Add health information retrieval before the search
      - action: action_get_health_information
      
      - action: action_trigger_search
      
      - id: ask_book_appointment
        collect: book_appointment
        ask_before_filling: true
        description: Ask if user wants to book an appointment for skin examination.
        next:
          - if: slots.book_appointment == true
            then:
              - noop: true
                next: link_to_booking
          - else:
              - action: utter_dont_book_appointment
                next: END
      
      - id: link_to_booking
        link: appointment_booking_flow
